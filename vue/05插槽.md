# 3、 插槽
* 插槽：让父组件可以在子组件中插入 HTML 内容或其他组件，并且这种插入是动态的，基于父组件传递的内容。

## 默认插槽：
* **插槽的实现方式**：
* 当父组件通过插槽传递内容时，vue会将父组件传递的内容编译为虚拟节点(vnode)
* 这些节点会被传递到子组件当中，当子组件渲染时，就会根据slot标签的内容去渲染递进来的vnode
```vue
<!--app.vue-->
<template>
  <div>
    <componentA>
      <p>slot内容</p>
    </componentA>
  </div>
</template>
<script setup lang="ts">
import componentA from './components/A/componentA.vue';
</script>

<!--componentA.vue-->
<template>
  <h2>
    下面是默认插槽
  </h2>
  <br></br>
  <div>
    <slot></slot>
  </div>
</template>
```

## 具名插槽：
* 父组件中声明 v-slot: name
> \<tempalte v-slot:name>
<br>

* 或者直接简写为 #name
>\<template #name>


* 子组件组件声明 slot的name
> \<slot name="name">
<br>

* 以name的形式来标识插槽，从而在组件内部做到区分
```vue
<!--app.vue-->
<template>
  <div>
    <componentA>
      <template v-slot:header>
        <h1>This is the header from parent</h1>
      </template>
      <template v-slot:footer>
        <p>This is the footer from parent</p>
      </template>
    </componentA>
  </div>
</template>
<!-- 或者 -->
<template>
  <div>
    <componentA>
      <template #header>
        <h1>This is the header from parent</h1>
      </template>
      <template #footer>
        <p>This is the footer from parent</p>
      </template>
    </componentA>
  </div>
</template>


<!--componentA.vue-->
<template>
  <header>
    <slot name="header">Default header content</slot>
  </header>
  <main>
    <slot>Default main content</slot>
  </main>
  <footer>
    <slot name="footer">Default footer content</slot>
  </footer>
</template>
```

## 作用域插槽
* 父组件做结构的描述和勾勒
* 子组件做传参
* 父组件通过v-slot="{ main }"  获得子组件的main值
* 子组件直接在slot标签上传递值main
```vue
<!--app.vue-->
<template>
  <div>
    <componentA>
      <template #header>
        <h1>This is the header from parent</h1>
      </template>
      <template v-slot="{ main }">
        <div>main slot</div>
        <p>name: {{ main.name }}</p>
        <p>age: {{ main.age }}</p>
      </template>
      <template #footer>
        <h1>This is the footer from parent</h1>
      </template>
    </componentA>
  </div>
</template>

<!--componentA.vue-->
<template>
  <header>
    <slot name="header">Default</slot>
  </header>
  <div>
    <slot :main="main"></slot>
  </div>
  <footer>
    <slot name="footer">Default</slot>
  </footer>
</template>
<script setup lang="ts">
import {ref} from 'vue'
const main = ref({
  name:'main',
  age: 23
})
</script>
```
<br></br>

* 或者下面这样写，（具名插槽和作用域插槽相结合）
```vue
<!--app.vue-->
<template>
  <div>
    <componentA>
      <template #header>
        <h1>This is the header from parent</h1>
      </template>
      <template #main="{main}">
        <div>main slot</div>
        <p>name: {{ main.name }}</p>
        <p>age: {{ main.age }}</p>
      </template>
      <template #footer>
        <h1>This is the footer from parent</h1>
      </template>
    </componentA>
  </div>
</template>

<!--componentA.vue-->
<template>
  <header>
    <slot name="header">Default</slot>
  </header>
  <div>
    <slot name="main" :main="main"></slot>
  </div>
  <footer>
    <slot name="footer">Default</slot>
  </footer>
</template>
<script setup lang="ts">
import {ref} from 'vue'
const main = ref({
  name:'main',
  age: 23
})
</script>
```

